---
title: create_node
description: Creates nodes in Infrahub
---

# Modules modules

Creates nodes in Infrahub through Infrahub SDK

## Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `api_endpoint` | `str` | No |  | Endpoint of the Infrahub API, optional env=INFRAHUB_ADDRESS |
| `token` | `str` | No |  | The API token created through Infrahub, optional env=INFRAHUB_API_TOKEN |
| `timeout` | `int` | No | 10 | Timeout for Infrahub requests in seconds |
| `kind` | `str` | Yes |  | Kind of node to create |
| `data` | `raw` | Yes |  | Dictionary of node attributes |
| `branch` | `str` | No | main | Branch in which the request is made |
| `validate_certs` | `bool` | No | True | Whether or not to validate SSL of the Infrahub instance |
| `allow_upsert` | `bool` | No | True | Allow upsert when saving node |

## Examples

```yaml
- name: Infrahub action plugin create_branch
  gather_facts: false
  hosts: localhost

  tasks:
    - name: Create device
      opsmill.infrahub.create:
        kind: "InfraDevice"
        allow_upsert: true
        data:
          name: "device1"
          status: "active"
```

## Return values

| Key | Type | Description |
|-----|------|-------------|
| `response` | `dict` | String representation of created node. |
| `data` | `str` | Node id and hfid. |

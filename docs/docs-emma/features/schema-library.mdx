---
title: Schema Library
---

Emma's Schema Library provides a curated collection of ready-to-use schemas for common infrastructure components. These schemas are designed by the community and OpsMill to reflect real-world infrastructure needs and best practices.

## Overview

The Schema Library offers:

- **Pre-built schemas** for common infrastructure components
- **Community-validated** designs and best practices
- **Dependency management** with proper inheritance hierarchies
- **Documentation and examples** for each schema
- **Regular updates** with new schemas and improvements

## Library organization

### Base Schemas

Foundation schemas that other schemas build upon:

#### Core infrastructure

- **Device** - Base class for all infrastructure devices
- **Interface** - Network interfaces and connections
- **Location** - Physical locations (sites, buildings, rooms)
- **Organization** - Companies, vendors, and organizational units
- **Person** - Individual people and contacts

#### Network fundamentals

- **IPAddress** - IPv4 and IPv6 address management
- **IPPrefix** - Network subnets and prefixes
- **VLAN** - Virtual LAN definitions
- **VRF** - Virtual Routing and Forwarding instances

#### Physical infrastructure

- **Rack** - Equipment racks and enclosures
- **Power** - Power distribution and consumption
- **Cable** - Physical cable connections
- **Port** - Physical and logical ports

### Extensions

Specialized schemas for specific domains and technologies:

#### Routing and switching

- **BGP** - Border Gateway Protocol configuration
- **OSPF** - Open Shortest Path First protocol
- **ISIS** - Intermediate System to Intermediate System
- **RoutingPolicy** - Route maps and policies
- **SwitchStack** - Switch stacking configurations

#### Security

- **Firewall** - Firewall devices and rules
- **SecurityPolicy** - Security policies and access controls
- **Certificate** - SSL/TLS certificate management
- **VPN** - Virtual Private Network configurations

#### Cloud and virtualization

- **VirtualMachine** - VM instances and configurations
- **Container** - Container and Kubernetes resources
- **CloudProvider** - Cloud service provider resources
- **LoadBalancer** - Load balancing configurations

#### Compute and storage

- **Server** - Physical and virtual servers
- **Storage** - Storage arrays and volumes
- **Cluster** - Compute and storage clusters
- **Database** - Database instances and clusters

#### Telecommunications

- **CircuitProvider** - Telecom service providers
- **Circuit** - WAN circuits and connections
- **CarrierEthernet** - Carrier Ethernet services
- **MPLS** - Multi-Protocol Label Switching

### Experimental

Cutting-edge schemas for emerging technologies:

#### Modern infrastructure

- **ServiceMesh** - Service mesh configurations
- **API** - API definitions and documentation
- **Microservice** - Microservice architectures
- **GitOps** - GitOps workflow definitions

#### Automation and orchestration

- **Playbook** - Ansible and automation playbooks
- **Pipeline** - CI/CD pipeline definitions
- **Webhook** - Webhook configurations
- **Event** - Event-driven architectures

#### Monitoring and observability

- **Monitor** - Monitoring system configurations
- **Alert** - Alerting rules and policies
- **Dashboard** - Monitoring dashboards
- **SLA** - Service Level Agreements

## Using library schemas

### Browsing the library

1. **Navigate to Schema Library** in Emma's sidebar
2. **Browse by category** (Base, Extensions, Experimental)
3. **Search by name or description** to find specific schemas
4. **View schema details** including attributes, relationships, and examples

### Schema information

Each library schema includes:

**Metadata:**

- Schema name and description
- Version and compatibility information
- Dependencies and inheritance hierarchy
- Maintainer and contributor information

**Structure:**

- Complete attribute definitions with types and validation
- Relationship definitions with cardinality and constraints
- Example data showing typical usage
- Documentation explaining design decisions

**Usage Guidelines:**

- Recommended use cases and scenarios
- Integration patterns with other schemas
- Best practices for data modeling
- Common pitfalls and how to avoid them

### Loading library schemas

#### Individual schema loading

1. **Select a schema** from the library browser
2. **Review dependencies** - Emma shows required base schemas
3. **Click "Load Schema"** to install into Infrahub
4. **Verify installation** using the Schema Visualizer

#### Bulk loading

1. **Select multiple schemas** using checkboxes
2. **Review dependency tree** for all selected schemas
3. **Load in dependency order** - Emma handles sequencing
4. **Monitor progress** through the loading status display

#### Dependency management

Emma automatically:

- **Identifies dependencies** by analyzing schema relationships
- **Orders loading** to ensure base schemas load first
- **Warns about conflicts** with existing schemas
- **Handles circular dependencies** with clear error messages

## Customizing library schemas

### Local modifications

Library schemas can serve as starting points for customization:

**Copy and Modify:**

1. Copy the schema YAML from the library
2. Modify attributes, relationships, or constraints
3. Change the schema name and namespace
4. Load the customized version

**Extension Patterns:**

- Add organization-specific attributes
- Define additional relationships
- Implement custom validation rules
- Create derived schemas for specialized use cases

### Best practices for customization

**Naming Conventions:**

- Use clear, descriptive names
- Follow consistent naming patterns
- Avoid conflicts with library schemas
- Document naming decisions

**Compatibility Considerations:**

- Maintain compatibility with base schemas
- Consider future library updates
- Document deviations from standards
- Plan migration strategies

### Contributing back

The Schema Library benefits from community contributions:

**How to Contribute:**

- Submit new schemas for common use cases
- Improve existing schema documentation
- Report issues or suggest enhancements
- Share usage patterns and best practices

**Contribution Process:**

- Follow the schema design guidelines
- Provide comprehensive documentation
- Include example data and use cases
- Submit through the appropriate channels

## Integration patterns

### Common scenarios

#### Network infrastructure setup

**Basic Network:**

1. Load Organization (for vendors)
2. Load Location (for sites and rooms)
3. Load Device (base for all equipment)
4. Load Interface and VLAN schemas
5. Add routing protocol schemas as needed

**Example dependency chain:**

```text
Organization → Location → Device → Interface → VLAN → BGP
```

#### Data center modeling

**Physical Infrastructure:**

1. Load Location and Organization
2. Load Rack and Power schemas
3. Load Device and Interface
4. Add Server and Storage schemas
5. Include networking and security schemas

#### Cloud infrastructure

**Multi-Cloud Setup:**

1. Load CloudProvider and VirtualMachine
2. Add Container and Kubernetes schemas
3. Include LoadBalancer and Security schemas
4. Add monitoring and automation schemas

### Schema relationships

Understanding how library schemas connect:

**Inheritance Hierarchies:**

- Device → Server, NetworkDevice, StorageDevice
- Location → Site, Building, Room, Rack
- Interface → PhysicalInterface, LogicalInterface

**Cross-Domain Relationships:**

- Devices located in Locations
- Interfaces belonging to Devices
- IP addresses assigned to Interfaces
- VLANs spanning multiple Devices

## Library maintenance

### Version management

**Schema Versioning:**

- Library schemas follow semantic versioning
- Breaking changes increment major version
- New features increment minor version
- Bug fixes increment patch version

**Compatibility:**

- Backward compatibility maintained within major versions
- Migration guides provided for major version changes
- Deprecation notices for removed features

### Update process

**Regular Updates:**

- Monthly releases with new schemas
- Quarterly major reviews and updates
- Community feedback incorporation
- Bug fixes and improvements

**Staying Current:**

- Subscribe to library update notifications
- Review changelog for new releases
- Test updates in development environments
- Plan migration for deprecated schemas

## Advanced usage

### Schema composition

Building complex models from library components:

**Layered Approach:**

1. Start with base infrastructure schemas
2. Add domain-specific extensions
3. Include operational schemas (monitoring, automation)
4. Customize with organization-specific additions

**Service Modeling:**

- Combine infrastructure and application schemas
- Model end-to-end service dependencies
- Include operational and business context
- Enable service-level reporting and automation

### Integration with external systems

**Data Import/Export:**

- Use library schemas as import targets
- Export data using schema structures
- Maintain consistency across systems
- Enable data federation and synchronization

**API Integration:**

- Use schemas to define API contracts
- Generate documentation from schemas
- Validate API requests against schemas
- Enable schema-driven development

## Troubleshooting

### Common issues

**Schema Not Found:**

- Check schema name spelling
- Verify category (Base, Extensions, Experimental)
- Ensure library is up to date
- Search using alternative terms

**Dependency Errors:**

- Load base schemas before extensions
- Check for circular dependencies
- Verify schema compatibility
- Review error messages carefully

**Loading Failures:**

- Check Infrahub connectivity
- Verify user permissions
- Review schema validation errors
- Check for name conflicts

### Performance considerations

**Large Library Sets:**

- Load schemas in batches
- Use filtering to reduce displayed schemas
- Clear browser cache periodically
- Monitor network performance

## Getting help

### Documentation resources

- **Schema descriptions** within the library browser
- **Example data** for each schema
- **Best practice guides** for common scenarios
- **Community forums** for questions and discussion

### Support channels

- **GitHub Issues** for bug reports and feature requests
- **Community Discussions** for usage questions
- **Documentation** for detailed guides and references
- **Direct Support** for enterprise customers

The Schema Library accelerates your Infrahub implementation by providing battle-tested, community-validated schemas. Start with library schemas and customize them to meet your specific needs while maintaining compatibility with the broader ecosystem.